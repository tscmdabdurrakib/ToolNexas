import{r as l,j as e}from"./react-vendor-C8_0nm1e.js";import{y as w}from"./vendor-BVXzLTDY.js";import{u as p}from"./index-Dbr7ijAn.js";import{T as j}from"./ToolCard-BJUAcyxJ.js";import{C as y}from"./CategoryCard-b5rcNw0-.js";import"./tools-BmgH3g0u.js";function S(){const[h]=w();console.log("Wouter location:",h);const u=new URLSearchParams(window.location.search);console.log("Window location search:",window.location.search);const[o,x]=l.useState(u.get("q")||"");console.log("Initial query:",o),l.useEffect(()=>{const s=()=>{const t=new URLSearchParams(window.location.search).get("q")||"";console.log("URL changed, new query:",t),x(t)};return window.addEventListener("popstate",s),()=>window.removeEventListener("popstate",s)},[]);const{tools:c=[],categories:i=[]}=p()||{tools:[],categories:[]},[a,m]=l.useState([]),[n,g]=l.useState([]);l.useEffect(()=>{if(console.log("Search page effect running, query:",o),console.log("Tools available:",c.length),console.log("Categories available:",i.length),!o.trim()){m([]),g([]);return}const s=o.toLowerCase(),d=c.filter(r=>r.name.toLowerCase().includes(s)||r.description.toLowerCase().includes(s));console.log("Matched tools:",d.length);const t=i.filter(r=>r.name.toLowerCase().includes(s)||r.description.toLowerCase().includes(s));console.log("Matched categories:",t.length),m(d),g(t)},[o,c,i]);const f=a.length>0||n.length>0;return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("h1",{className:"text-2xl font-bold",children:['Search results for "',o,'"']}),e.jsxs("p",{className:"text-muted-foreground",children:["Found ",a.length," tools and ",n.length," categories"]})]}),n.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Categories"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:n.map(s=>e.jsx(y,{category:s},s.id))})]}),a.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Tools"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:a.map(s=>e.jsx(j,{tool:s},s.id))})]}),!f&&e.jsxs("div",{className:"py-20 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted mb-4",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-muted-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.3-4.3"})]})}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No results found"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"We couldn't find any tools or categories matching your search. Try using different keywords or browse our categories."})]})]})})}export{S as default};
